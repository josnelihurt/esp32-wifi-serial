<h3>OTA (Over-The-Air) Update</h3>
<div style="background:#FFF9C4;padding:15px;border-radius:4px;margin-bottom:20px;border:2px solid #FFC107;">
    <h4 style="margin-top:0;color:#333;">Network Information</h4>
    <p style="margin:5px 0;"><strong>Device Name:</strong> %DEVICE_NAME%</p>
    <p style="margin:5px 0;"><strong>IP Address:</strong> %IP_ADDRESS%</p>
    <p style="margin:5px 0;"><strong>Hostname:</strong> %DEVICE_NAME%.local</p>
    <p style="margin:5px 0;"><strong>OTA Port:</strong> 3232</p>
    <p style="margin:5px 0;"><strong>OTA Password:</strong> %OTA_PASSWORD_STATUS%</p>
</div>
<div style="background:#E3F2FD;padding:15px;border-radius:4px;margin-bottom:20px;border:2px solid #2196F3;">
    <h4 style="margin-top:0;color:#333;">PlatformIO Upload Command</h4>
    <p style="margin:5px 0;">Use this command from your project directory to upload via OTA:</p>
    <div style="background:#263238;color:#00E676;padding:12px;border-radius:4px;font-family:monospace;margin:10px 0;overflow-x:auto;">
        pio run -t upload --upload-port %IP_ADDRESS%
    </div>
    <p style="margin:5px 0;font-size:12px;color:#666;">Note: Make sure your computer is on the same network as the ESP32.</p>
</div>
<div style="background:#FFF3E0;padding:15px;border-radius:4px;margin-bottom:20px;border:2px solid #FF9800;">
    <h4 style="margin-top:0;color:#333;">Update Frontend Only</h4>
    <p style="margin:5px 0;">To update just the web interface files (HTML, CSS, JS) without reflashing firmware:</p>
    <div style="background:#263238;color:#00E676;padding:12px;border-radius:4px;font-family:monospace;margin:10px 0;overflow-x:auto;">
        make upload-fs IP=%IP_ADDRESS%
    </div>
    <p style="margin:5px 0;font-size:12px;color:#666;">This uploads only the data/ folder contents and is much faster than full firmware update.</p>
</div>
<div style="background:#FFEBEE;padding:15px;border-radius:4px;margin-bottom:20px;border:2px solid #f44336;">
    <h4 style="margin-top:0;color:#333;">Important Notes</h4>
    <ul style="margin:5px 0;padding-left:20px;">
        <li>OTA updates only work when connected to WiFi (Station mode)</li>
        <li>Ensure your firewall allows port 3232</li>
        <li>The device will restart after a successful update</li>
        <li>If OTA fails, you can still update via USB cable</li>
        <li>Frontend-only updates are faster and don't require recompiling firmware</li>
    </ul>
</div>
<div style="background:#F5F5F5;padding:15px;border-radius:4px;border:2px solid #666;">
    <h4 style="margin-top:0;color:#333;">Alternative Upload Methods</h4>
    <p style="margin:5px 0;"><strong>Full firmware update via OTA:</strong></p>
    <div style="background:#263238;color:#00E676;padding:12px;border-radius:4px;font-family:monospace;margin:10px 0;overflow-x:auto;">
        make upload-ota IP=%IP_ADDRESS%
    </div>
    <p style="margin:5px 0;"><strong>Via Hostname (requires mDNS):</strong></p>
    <div style="background:#263238;color:#00E676;padding:12px;border-radius:4px;font-family:monospace;margin:10px 0;overflow-x:auto;">
        pio run -t upload --upload-port %DEVICE_NAME%.local
    </div>
    <p style="margin:5px 0;"><strong>Via espota.py (manual):</strong></p>
    <div style="background:#263238;color:#00E676;padding:12px;border-radius:4px;font-family:monospace;margin:10px 0;overflow-x:auto;">
        python espota.py -i %IP_ADDRESS% -p 3232 -f firmware.bin
    </div>
</div>
